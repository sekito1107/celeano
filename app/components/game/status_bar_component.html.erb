<div class="hero-status-container <%= sanity_level_class %>">
  <div class="hero-portrait-wrapper">
    <!-- Avatar Image (Masked Circle) -->
    <%= image_tag "lobby/default_avatar.jpg", class: "hero-avatar", alt: "Player" %>
    
    <!-- Frame Overlay -->
    <%= image_tag "ui/hero_frame.png", class: "hero-frame", alt: "" %>
    
    <!-- Stats Gem Overlay -->
    <div class="stat-badge hp-badge"
         data-controller="game--countdown"
         data-game--countdown-current-value="<%= hp %>"
         data-game--countdown-player-id-value="<%= @game_player.id %>"
         data-game--countdown-user-id-value="<%= @game_player.user_id %>"
         data-game--countdown-max-value="<%= max_hp %>"
         data-action="game--status:update-hp@window->game--countdown#updateFromEvent">
      <div class="stat-value" data-game--countdown-target="value"><%= hp %></div>
    </div>
    
    <div class="stat-badge san-badge"
         data-controller="game--countdown"
         data-game--countdown-current-value="<%= san %>"
         data-game--countdown-player-id-value="<%= @game_player.id %>"
         data-game--countdown-user-id-value="<%= @game_player.user_id %>"
         data-game--countdown-max-value="<%= max_san %>"
         data-action="game--status:update-san@window->game--countdown#updateFromEvent">
      <div class="stat-value" data-game--countdown-target="value"><%= san %></div>
    </div>
  </div>

  <% if controls? %>
    <%# Ready Button: Fixed position to ensure visibility on top of all layers %>
    <div class="status-controls-fixed">
      <button class="btn <%= ready? ? 'btn-warning' : 'btn-primary btn-ready' %>"
              data-action="click->game--board#ready"
              aria-label="<%= ready? ? 'Waiting for opponent' : 'Confirm ready state' %>"
              aria-pressed="<%= ready? %>"
              <%= 'disabled' if ready? %>>
        <%= ready? ? "WAITING..." : "READY" %>
      </button>
    </div>
  <% end %>
</div>
